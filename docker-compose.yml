version: "3.9"

services:
  arch:
    image: marcpartensky/arch
    build:
      context: base
    ports:
      - "10022:22"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  arch_xorg:
    image: marcpartensky/arch:xorg
    build:
      context: xorg
    environment:
      DISPLAY: $DISPLAY
    volumes:
      - /tmp/.X11-unix:/tmp/.X11-unix
    devices:
      - /dev/dri

  arch_vnc:
    image: marcpartensky/arch:vnc
    build:
      context: vnc
    ports:
      - "10022:22"
      - "15901:5901"
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  parabola:
    image: marcpartensky/arch:parabola
    build:
      context: parabola
